#!/usr/bin/env sh
export TERM="screen-256color"

# Define global, easy to find source not linking on home root
export TA_SOURCE="${HOME}/.local"
export TA_SOURCE_CONF="${TA_SOURCE}/bashAndTmux"
export TA_SOURCE_BIN="${TA_SOURCE}/bin"
export TA_SOURCE_BIN_LOG="${TA_SOURCE_BIN}/log"
export TA_SOURCE_BIN_LIB="${TA_SOURCE_BIN}/lib"

# export port tmux in file
# so tmux can update this port if is changed
display_for_tmux_path=~/.local/tmp/.display_for_tmux

#Start ssh agent
if [[ -z "$SSH_AUTH_SOCK" ]]; then
    eval `ssh-agent -s`
    ssh-add
fi

if [[ "$TMUX" == '' ]]; then
    echo $DISPLAY > ${display_for_tmux_path}
elif [[ -f ${display_for_tmux_path} ]]; then
    export DISPLAY=$(\cat ${display_for_tmux_path})
fi

display_for_tmux_path=~/.local/tmp/.display_for_tmux

if [[ ! -d ~/.local/tmp ]]; then
    mkdir ~/.local/tmp
fi

# Locally binaries
if [ -d ~/.local/bin ]; then
    PATH=$PATH:~/.local/bin
fi

if [ -d ~/.local/bin/vim ]; then
    PATH=~/.local/bin/vim/bin:$PATH
fi

if [ -d ~/.local/git ]; then
    PATH=~/.local/git/bin:$PATH
fi

if [ -f ~/.local/bin/lib/completion_go.sh ]; then
    PATH=~/.local/bin/lib/completion_go.sh:$PATH
fi
